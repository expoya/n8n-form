/* ====================================================== */
/* ===============  BASIS-LAYOUT & FONTS  =============== */
/* ====================================================== */
body{
  background:#1d2330;
  font-family:'Inter',Arial,sans-serif;
  margin:0;
  color:#e5e8ef;
}
.container{
  display:flex;
  align-items:flex-start;
  min-height:100vh;
  padding:20px 0;
}

/* ====================================================== */
/* =================  LINKES FORM-PANEL  ================ */
/* ====================================================== */
.compact-panel{
  background:#232a3b;
  border-radius:18px;
  box-shadow:0 4px 18px #0004;
  max-width:420px;
  min-width:340px;
  width:100%;
  margin:0 10px 0 18px;
  padding:25px 14px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.logo{display:block;margin:0 auto 7px;max-width:120px;}
.headline{
  color:#7d82fa;
  font-size:1.4rem;
  margin:0 0 13px;
  font-weight:700;
  letter-spacing:1px;
  text-align:center;
}

/* ---------- Formularfelder ---------- */
.form-group,.form-row{display:flex;flex-direction:column;margin-bottom:8px;gap:2px;}
.form-row{flex-direction:row;gap:10px;}
input,select,textarea{
  background:#222736;
  color:#e5e8ef;
  border:1px solid #444a63;
  border-radius:6px;
  padding:10px 13px;
  font-size:15px;
  font-family:inherit;
  outline:none;
  resize:none;
}
input:focus,select:focus,textarea:focus{border:1.5px solid #9ea7f7;}
input::placeholder,textarea::placeholder{
  color:#8e96b8;font-size:12px;
}

/* ---------- Primärer Button ---------- */
.btn-primary{
  width:100%;background:#5a5ef7;color:#fff;border:0;border-radius:10px;
  padding:15px;font-size:1.18rem;font-weight:600;cursor:pointer;
  margin-top:12px;box-shadow:0 3px 18px #0002;transition:background .13s;
}
.btn-primary:hover{background:#7077fa;}

/* ---------- Slider / Toggles ---------- */
.tonality-container{margin:10px 0;}
.tonality-label,.tonality-value{font-size:15px;color:#bbc1f4;text-align:center;}

/* ----- Tonalitäts-Slider (zurück zur Standard-Optik) ----- */
.tonality-slider{
  width:100%;
  display:block;           /* verhindert Überlauf */
  height:4px;
  accent-color:#7d82fa;    /* Daumen + Track in Lila */
  box-sizing:border-box;   /* bleibt – stoppt das alte Rausragen */
  margin:6px 0 0;
}

.toggles-row{ /* --- Du/Sie & Ortsbezug in EINER Zeile ---------------- */
  display:flex;
  flex-direction:row;
  gap:30px;
  justify-content:center;
  align-items:center;
  margin:18px 0 20px;
}
.toggle-combo{display:flex;align-items:center;gap:7px;}
.toggle-label{font-size:15px;color:#bbc1f4;}
.switch{position:relative;display:inline-block;width:34px;height:18px;}
.switch input{display:none;}
.slider{position:absolute;top:0;left:0;right:0;bottom:0;background:#3c4157;border-radius:16px;transition:.3s;}
.slider:before{content:"";position:absolute;height:13px;width:13px;left:3px;bottom:2.5px;background:#e5e8ef;border-radius:50%;transition:.3s;}
input:checked + .slider{background:#7d82fa;}
input:checked + .slider:before{transform:translateX(15px);background:#fff;}

/* ====================================================== */
/* =================  RECHTES OUTPUT-PANEL  ============= */
/* ====================================================== */
.output-panel{
  flex:1 1 0;
  margin-top:0px;
  margin-left:10px;
  margin-right:20px;
  background:#232a3b;
  border-radius:18px;
  min-height:50vh;
  padding:20px 26px;
  display:flex;
  flex-direction:column;
}
.expo-list{
  list-style:none;
  padding-left:0;
  margin:0;
  display:flex;
  flex-direction:column;
  gap:13px
  ;}
.expo-placeholder{color:#7780a4;font-style:italic;}

/* ====================================================== */
/* ================  EXPOS – AKKORDEON  ================= */
/* ====================================================== */
.expo-akkordeon{
  background:#222c45;
  border-radius:13px;
  box-shadow:0 2px 8px #0002;
  border:1px solid #282e44;
  transition:box-shadow .13s;
  padding:0px 0px;
  margin-bottom:4px;
}

.expo-akk-header{
  display:flex;
  align-items:center;
  gap:8px;
  cursor:pointer;
  background:#2a3555;     
  padding:6px 12px;
  border-radius:10px;
}

.expo-akk-index{width:28px;color:#7d82fa;font-weight:700;font-size:14px;text-align:right;}
.expo-akk-titel{flex:1;color:#e5e8ef;font-size:14px;font-weight:500;word-break:break-word;}

.btn-icon{
  background:none;border:none;color:#bbc1f4;font-size:18px;
  margin-left:5px;padding:2px 4px;border-radius:7px;cursor:pointer;
  transition:background .14s,color .13s;
}
.btn-icon:hover{background:#353b58;color:#fff;}
.btn-delete{color:#f87b7b;}
.btn-delete:hover{background:#2e232a;}

.btn-expand{font-size:20px;margin-left:7px;padding:0 3px;color:#7d82fa;background:none;border:none;}
.btn-expand:hover{color:#bbc1f4;}

.expo-akk-body{display:none;background:#21263a;padding:18px 18px 15px 36px;border-top:1px solid #282e44;}
.expo-akkordeon.open .expo-akk-body{display:block;}
.expo-akkordeon.open .expo-akk-header{border-bottom:1px solid #282e44;}

/* ---------- Inline-Edit Feld & Save-Icon ---------- */
.edit-inline{
  flex:1;
  width:80%;              /* füllt gesamte Titelzeile */
  min-width:0;
  padding:4px 6px;
  font:inherit;
  color:#fff;
  background:#28324d;
  border:1px solid #3a4769;
  border-radius:4px;
}

/* --- Inline-Save (✔️) ---------------------- */
.btn-save-inline{
  margin-left:8px;
  font-size:20px;
  background:none;
  border:none;
  color:#7d82fa;           /* auffälliges Lila */
  cursor:pointer;
  transition:color .15s;
}
.btn-save-inline:hover{ color:#bbc1f4; }


/* ---------- Mini Generate-Button im Body ---------- */
.btn-generate-text{
  padding:4px 8px;
  font-size:.85rem;
  background:#3a4769;
  border:none;
  border-radius:4px;
  color:#fff;
  cursor:pointer;
  display:inline-block;   
  width:auto;              
}
.btn-generate-text:hover{background:#5a5ef7;}

/* ====================================================== */
/* ====================  RESPONSIVE  ==================== */
/* ====================================================== */
@media (max-width:950px){
  .container{flex-direction:column;align-items:stretch;padding:12px 0;}
  .compact-panel,.output-panel{max-width:100vw;min-width:0;margin:0 0 18px;}
}
/* ——— Spinner (wird von ui-loader.js injiziert) ——— */
@keyframes spin{to{transform:rotate(360deg)}}
.loader-spinner{
  width:24px;
  height:24px;
  border:3px solid rgba(125,130,250,.25);
  border-top-color:#7d82fa;
  border-radius:50%;
  animation:spin 0.8s linear infinite;
  margin-right:8px;
}
.loader-wrap{
  display:flex;
  align-items:center;
  gap:10px;
}
/* ——— Toast / Fehlermeldung ——— */
.toast{
  position:fixed;
  bottom:20px; right:20px;
  background:#e74c3c;              /* roter Hintergrund */
  color:#fff; font-size:.95em;
  padding:12px 18px; border-radius:6px;
  box-shadow:0 4px 12px rgba(0,0,0,.2);
  z-index:1000; opacity:0;
  animation:toast-in .3s forwards,
             toast-out .3s 3s forwards; /* 3 s sichtbar, dann ausblenden */
}
@keyframes toast-in  {from{opacity:0;transform:translateY(20px)}
                       to  {opacity:1;transform:translateY(0)}}
@keyframes toast-out {to  {opacity:0;transform:translateY(20px)}}

/* ——— Experten-Auswahl ——— */
.expert-box          { margin-top:18px; }
.expert-box summary  {
  cursor:pointer; font-weight:600; list-style:none; outline:none; position:relative;
  padding:6px 0;
}
.expert-box summary::after            { content:"▼"; position:absolute; right:0; }
.expert-box[open] summary::after      { content:"▲"; }
/* ——— Experten-Feld: Text | Select | Button ——— */
.expert-fields label{
  display:flex;
  align-items:center;
  gap:8px;                  /* Abstand zwischen den drei Teilen */
  margin:6px 0 10px;
  font-size:.9em;
}
.expert-fields select{
  flex:1 1 auto;            /* alle Selects füllen die Breite gleich aus */
}
.info-btn{                  /* evtl. vorhandene Margin löschen */
  margin-left:0;
}

/* ——— Info-Button ——— */
.info-btn{
  background:none; border:none; cursor:pointer; color:#bbb;
  font-size:.9em; margin-left:6px; padding:0;
}
.info-btn:hover{ color:#fff; }

/* ——— Modal ——— */
.modal{
  display:none; position:fixed; z-index:2000; inset:0;
  background:rgba(0,0,0,.6); backdrop-filter:blur(2px);
}
.modal-content{
  background:#1b1e2b; color:#eee; padding:24px; border-radius:8px;
  max-width:420px; margin:10% auto; box-shadow:0 6px 18px rgba(0,0,0,.4);
  font-size:.95em; line-height:1.5;
}
.modal .close{
  float:right; font-size:1.4em; cursor:pointer; margin-top:-8px;
}
.model-table           { width: 100%; border-collapse: collapse; margin-top: 10px; }
.model-table td        { padding: 4px 8px; border: 1px solid #ddd; }
.model-table .category { font-weight: bold; width: 180px; }

