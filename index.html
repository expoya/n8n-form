<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Expoya AI-Content-Engine</title>
  <meta name="viewport" content="width=500, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.4.1/dist/tailwind.min.css" rel="stylesheet">
  <style>
    /* Tonality Slider Design */
    .tonality-labels { display: flex; justify-content: space-between; font-size: 0.85rem; }
    .tonality-slider::-webkit-slider-thumb { background: #6366f1; }
    .tonality-slider::-moz-range-thumb { background: #6366f1; }
    .tonality-slider::-ms-thumb { background: #6366f1; }
  </style>
</head>
<body class="bg-[#19202a] text-gray-100 min-h-screen flex items-start justify-center p-8">
  <div class="w-[400px] bg-[#22283a] rounded-2xl shadow-2xl p-7 mr-6">
    <img src="assets/logo.png" alt="Expoya Logo" class="mx-auto mb-2 w-36">
    <h1 class="text-2xl text-center font-bold mb-4 text-indigo-400">AI-Content-Engine</h1>
    <form id="myForm" class="flex flex-col space-y-2">
      <label class="text-sm">Unternehmensname
        <input type="text" name="companyName" class="mt-1 w-full rounded bg-[#2a3142] p-2 text-sm" required>
      </label>
      <label class="text-sm">Website
        <input type="url" name="website" class="mt-1 w-full rounded bg-[#2a3142] p-2 text-sm" required>
      </label>
      <div class="flex space-x-2">
        <label class="text-sm flex-1"># Expos
          <input type="number" name="expoCount" min="1" max="100" class="mt-1 w-full rounded bg-[#2a3142] p-2 text-sm" required>
        </label>
        <label class="text-sm flex-1">Branche
          <select name="branche" class="mt-1 w-full rounded bg-[#2a3142] p-2 text-sm" required>
            <option value="">â€“ wÃ¤hlen â€“</option>
            <option>Bankfiliale</option>
            <option>Fensterbau</option>
            <option>Hotel</option>
            <option>Architekt</option>
            <option>BÃ¤ckerei</option>
            <!-- Hier weitere Branchen nach Bedarf -->
          </select>
        </label>
      </div>
      <label class="text-sm">Regionen ( , / ;)
        <textarea name="regions" rows="1" class="mt-1 w-full rounded bg-[#2a3142] p-2 text-sm"></textarea>
      </label>
      <label class="text-sm">Zielgruppen ( , / ;)
        <textarea name="zielgruppen" rows="1" class="mt-1 w-full rounded bg-[#2a3142] p-2 text-sm"></textarea>
      </label>
      <label class="text-sm">Produkte / DL ( , / ;)
        <textarea name="produkte" rows="1" class="mt-1 w-full rounded bg-[#2a3142] p-2 text-sm"></textarea>
      </label>
      <label class="text-sm">Zielsetzung der Expos
        <textarea name="zielsetzung" rows="2" maxlength="250" class="mt-1 w-full rounded bg-[#2a3142] p-2 text-sm" placeholder="z. B. 'Mehr Leads fÃ¼r regionale Fensterbauer generieren...'"></textarea>
      </label>
      <div>
        <label class="text-sm block mb-1">TonalitÃ¤t</label>
        <input type="range" min="1" max="5" step="1" name="tonality" id="tonalityRange" value="3" class="w-full tonality-slider accent-indigo-500">
        <div class="tonality-labels text-gray-400 mt-1">
          <span>Locker</span>
          <span>Mittel</span>
          <span>Sehr formell</span>
        </div>
        <div class="text-xs text-indigo-400 text-right" id="tonalityLabel"></div>
      </div>
      <button type="submit" class="mt-2 bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 rounded transition">ðŸš€ Generieren</button>
    </form>
    <div id="responseOutput" class="mt-4 text-xs bg-[#202737] rounded p-3 min-h-[40px]"></div>
  </div>
  <div class="flex-1 bg-[#232a36] rounded-2xl shadow-xl p-7 min-h-[550px]">
    <h2 class="text-xl font-bold text-indigo-400 mb-2">Titel-Liste</h2>
    <div id="output" class="text-sm"></div>
  </div>
  <script>
    // TonalitÃ¤t: Mapping
    const tonalityLabels = [
      "Sehr locker",
      "Locker",
      "Neutral",
      "Formell",
      "Sehr formell"
    ];
    const range = document.getElementById('tonalityRange');
    const label = document.getElementById('tonalityLabel');
    function updateTonalityLabel() {
      label.textContent = tonalityLabels[range.value - 1];
    }
    if (range && label) {
      range.addEventListener('input', updateTonalityLabel);
      updateTonalityLabel();
    }
    // Form Submission
    document.getElementById("myForm").addEventListener("submit", async function(event) {
      event.preventDefault();
      const formData = new FormData(this);
      const data = Object.fromEntries(formData.entries());

      // Debug-Ausgabe
      document.getElementById("responseOutput").textContent = "Sende Anfrage...";
      try {
        const response = await fetch("https://expoya.app.n8n.cloud/webhook-test/03796224-cbe0-443a-adeb-e91f64514773", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data)
        });
        const result = await response.json();
        document.getElementById("responseOutput").textContent = "Antwort erhalten!";
        document.getElementById("output").textContent = JSON.stringify(result, null, 2);
      } catch (e) {
        document.getElementById("responseOutput").textContent = "Fehler beim Senden!";
      }
    });
  </script>
</body>
</html>
